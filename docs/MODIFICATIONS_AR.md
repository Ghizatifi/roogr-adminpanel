# التعديلات التي تمت اليوم – ملخص (عربي)

## 1. صفحة الرسوم البيانية / لوحة التحكم (`/charts`)
- تصميم أحدث مع قسم رئيسي وأربعة مؤشرات أداء.
- **مخطط الدائرة (ChartThree)** : إصلاح الشكل (شرائح صغيرة عندما تكون فئة واحدة فقط لديها بيانات)، تصحيح النسب المئوية (إزالة "164.100%")، وسيط بين الشرائح.

## 2. تدقيق المشروع
- إنشاء **`docs/AUDIT_RAPPORT.md`** : أمان، أداء، تصميم، ترجمة، خطة عمل P0–P3.

## 3. صفحة ملف المستخدم (`/users/profile/:id`)
- رأس صفحة مضغوط (صورة رمزية فقط)، **ProfileOverview**، مسار تنقل (breadcrumb)، **تبويبات** بدل القوائم المنسدلة.
- **ProfileImages** بشكل مضغوط، **ProfileAccordion** كتبويبات، **UserFormDetials** أوضح مع زر حفظ.
- تحسين عرض أقسام البيانات ومعلومات الملف (تقليل الاعتماد على القوائم المنسدلة).

## 4. ملف الأدمن (جديد)
- **صفحة مخصصة** `AdminProfile.tsx` والمسار **`/admins/profile/:adminId`**.
- استخدام **`useGetAdmin`** لجلب بيانات الأدمن.
- من `/admins` : النقر على الاسم يوجّه إلى **`/admins/profile/:id`** (وليس لملف المستخدم بمعرف الأدمن).
- تسجيل الدخول يحفظ `admin_id`، وتسجيل الخروج يزيله.

## 5. الشريط الجانبي
- زيادة العرض (17rem)، **`.sidebar-menu-text`** بدون سطر جديد للنصوص.
- زر التوسيع عند 14.5rem.
- النقر على **اسم الأدمن** يوجّه إلى **`/charts`** (وليس `/`).

## 6. الهيدر
- تصميم أحدث (ارتفاع ثابت، خلفية، بحث في المنتصف).
- ترتيب الأيقونات: **الملف الشخصي → الإشعارات → اللغة**.
- جلب بيانات الأدمن (مثل `adminId`، طلبات `/me` ثم `/admins/me` عند الحاجة).
- **DarkModeSwitcher** : النقر على الشعار يوجّه إلى **`/charts`** مع تصغير حجم الشعار.

## 7. أيقونة الملف الشخصي في الهيدر
- إضافة أيقونة الملف بجانب اللغة.
- النقر يوجّه إلى **`/admins/profile/:id`** (صفحة تفاصيل أدمن الحساب)، وليس إلى `/admins`.
- التأكد من المظهر في الوضع الداكن.

## 8. شاشة التحميل العامة
- مكوّن **`PageLoader.tsx`** (سبينر + بطاقة + نص، متوافق مع الوضع الداكن).
- مفاتيح الترجمة **`common.loading`** (عربي وإنجليزي).
- استخدام PageLoader (وحالات الخطأ) في: **المستخدمون**، **المنتجات**، **الإعلانات**، **قوائم الحظر** (مستخدمين، منتجات، محادثات)، **اشتراكات الفئات**، **تفاصيل المنتج**.

## 9. البناء / صفحة المنتجات
- إصلاح خطأ **`Identifier 'breadcrumbLinks' has already been declared'`** في **`products.tsx`** : الإبقاء على تعريف واحد لـ `breadcrumbLinks` وحذف التكرار.

## 10. صفحة الأقسام / الاشتراكات (`/categories/subscriptions`)
- **استجابة أفضل** : `min-w-0`، `overflow-x-auto`، أعمدة ثابتة العرض (`shrink-0`) لتجنب الانزياح.
- **أسماء طويلة** : `break-words` على اسم الفئة لتجنب الانزياح عند الأسماء المركبة أو الطويلة.
- **عمود "الترتيب"** : عرض **رقم الترتيب** (`parent_sort_order`) بدل النص "الترتيب" للفئات الرئيسية والفرعية.
